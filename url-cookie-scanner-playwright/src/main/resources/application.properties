# Mongo
spring.data.mongodb.uri=mongodb://localhost:27017/url_cookie_scanner

# Scanner config
scanner.maxRedirects=10
scanner.navTimeoutSeconds=20
scanner.navigationWait=networkidle
scanner.userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120 Safari/537.36

# Cookie Categorization API Configuration
cookie.categorization.api.url=http://127.0.0.1:5000/predict
cookie.categorization.api.timeout=10000

# NEW: Cookie Categorization Retry & Cache Configuration
cookie.categorization.cache.enabled=true
cookie.categorization.cache.ttl.minutes=60
cookie.categorization.retry.max-attempts=3
cookie.categorization.retry.initial-delay=1000
cookie.categorization.retry.multiplier=2.0
cookie.categorization.retry.max-delay=10000

# Spring Configuration
spring.application.name=cookie-scanner

# Async Configuration
spring.task.execution.pool.core-size=2
spring.task.execution.pool.max-size=10
spring.task.execution.pool.queue-capacity=100

# HTTP Client timeout (IMPORTANT - prevents hanging requests)
spring.http.client.timeout.connect=10000
spring.http.client.timeout.read=30000

# Logging
logging.level.com.example.scanner=INFO
logging.level.com.example.scanner.service.CookieCategorizationService=DEBUG
logging.level.org.springframework.retry=DEBUG

# Swagger/OpenAPI Configuration
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.api-docs.path=/api-docs
springdoc.swagger-ui.try-it-out-enabled=true

# NEW: Management endpoints for monitoring (optional)
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always